<!--
토스트
화면 한쪽에서 살짝 나타났다가 자동으로 사라지는 알림 메시지

비침습적: 사용자의 작업을 방해하지 않음
자동 소멸: 설정된 시간 후 자동으로 사라짐
위치 조정 가능: 화면의 원하는 위치에 배치
스타일 다양성: 성공, 경고, 오류 등 다양한 상황에 맞는 스타일

-->

<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>토스트 알림 시스템</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
    <div class="container mt-5">
        <h2>토스트 알림 시스템</h2>

        <!-- 토스트 컨테이너 -->
        <div class="toast-container position-fixed top-0 end-0 p-3">
            <div id="basicToast" class="toast" role="alert">
                <div class="toast-header">
                    <strong class="me-auto">알림</strong>
                    <small>방금</small>
                    <button type="button" class="btn-close" data-bs-dismiss="toast"></button>
                </div>
                <div class="toast-body">
                    안녕하세요! 첫 번째 토스트 메시지입니다.
                </div>
            </div>
        </div>

        <!-- 토스트 실행 버튼 -->
        <button type="button" class="btn btn-primary" id="showToast">
            토스트 보기
        </button>


    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // 토스트 초기화 및 이벤트 설정
        const toastElement = document.getElementById('basicToast');
        const toast = new bootstrap.Toast(toastElement);

        document.getElementById('showToast').addEventListener('click', function() {
            toast.show();
        });
    </script>

<div class="container mt-5">
    <h2>상황별 토스트 메시지</h2>

    <!-- 토스트 컨테이너 -->
    <div class="toast-container position-fixed top-0 end-0 p-3" id="toastContainer">
        <!-- 성공 토스트 -->
        <div class="toast align-items-center text-bg-success border-0" role="alert" id="successToast">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-check-circle-fill me-2"></i>
                    성공적으로 저장되었습니다!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>

        <!-- 경고 토스트 -->
        <div class="toast align-items-center text-bg-warning border-0" role="alert" id="warningToast">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-exclamation-triangle-fill me-2"></i>
                    주의: 입력값을 확인해주세요.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>

        <!-- 오류 토스트 -->
        <div class="toast align-items-center text-bg-danger border-0" role="alert" id="errorToast">
            <div class="d-flex">
                <div class="toast-body">
                    <i class="bi bi-x-circle-fill me-2"></i>
                    오류가 발생했습니다. 다시 시도해주세요.
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>

    <!-- 버튼들 -->
    <div class="btn-group" role="group">
        <button type="button" class="btn btn-success" onclick="showToast('success')">성공 메시지</button>
        <button type="button" class="btn btn-warning" onclick="showToast('warning')">경고 메시지</button>
        <button type="button" class="btn btn-danger" onclick="showToast('error')">오류 메시지</button>
    </div>
</div>

<script>
function showToast(type) {
    const toastElement = document.getElementById(type + 'Toast');
    const toast = new bootstrap.Toast(toastElement, {
        delay: 4000 // 4초 후 자동 소멸
    });
    toast.show();
}
</script>

<script>
// 동적 토스트 생성 함수
function createToast(message, type = 'info', duration = 5000) {
    const toastContainer = document.getElementById('toastContainer');

    // 토스트 HTML 생성
    const toastHtml = `
        <div class="toast align-items-center text-bg-${type} border-0" role="alert">
            <div class="d-flex">
                <div class="toast-body">
                    ${message}
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    `;

    // DOM에 추가
    toastContainer.insertAdjacentHTML('beforeend', toastHtml);

    // 방금 생성된 토스트 선택 및 표시
    const newToast = toastContainer.lastElementChild;
    const toast = new bootstrap.Toast(newToast, { delay: duration });

    // 토스트 표시
    toast.show();

    // 토스트가 숨겨진 후 DOM에서 제거
    newToast.addEventListener('hidden.bs.toast', function() {
        this.remove();
    });
}

// 사용 예시
document.getElementById('dynamicSuccess').addEventListener('click', function() {
    createToast('댓글이 성공적으로 등록되었습니다!', 'success', 3000);
});

document.getElementById('dynamicWarning').addEventListener('click', function() {
    createToast('로그인이 필요한 서비스입니다.', 'warning', 4000);
});

</script>
</body>
</html>

<!--
위치 설정: toast-container와 position-fixed 클래스로 화면 위치 조정
스타일 적용: text-bg-* 클래스로 상황에 맞는 색상 적용
자동 소멸: delay 옵션으로 표시 시간 조정
동적 생성: JavaScript로 상황에 맞는 토스트를 실시간 생성
-->
